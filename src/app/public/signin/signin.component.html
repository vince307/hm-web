
<div class="alert alert-success alert-dismissible fade show m-2" role="alert" *ngIf="(getSignInResetPwdRes$ | async)">
  <i class="fas fa-check"></i>&nbsp;<strong>Splendid!</strong> Check your email for further instructions on how to reset your password
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>


<div class="alert alert-danger alert-dismissible fade show m-2" role="alert" *ngIf="(getSignInFailure$ | async)">
  <i class="fas fa-exclamation hm-icon-error"></i>&nbsp;{{ getSignInFailure$ | async }}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div *ngIf="!(showPasswordReset$ | async)">
<div class="container home">
  <div class="row">
    <div class="col text-center">
      <h3>Sign In</h3>
      <h6 class="underline">&nbsp;</h6>
    </div>
  </div>
</div>
<div class="container">
  <div class="row  justify-content-center align-items-center">
    <div class="col-10 col-md-4">
      <form fxLayout="column"
            fxLayoutAlign="center center"
            fxLayoutGap="10px"
            [formGroup]="signinForm"
            (ngSubmit)="onSignInClick()">
        <mat-form-field>
          <input
            [readonly]="(isLoading$ | async)"
            type="email"
            matInput
            placeholder="Email"
            formControlName="email">
          <mat-error>Invalid or missing email.</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input
            [readonly]="(isLoading$ | async)"
            type="password"
            matInput
            placeholder="Password"
            formControlName="password">
          <mat-error>Missing password.</mat-error>
        </mat-form-field>
        <br/>
        <button *ngIf="!(isLoading$ | async) && signinForm.invalid" disabled type="submit" class="btn btn-outline-success">{{ 'hm.menu.signin' | translate }}</button>
        <button *ngIf="!(isLoading$ | async) && !signinForm.invalid" type="submit" class="btn btn-success">{{ 'hm.menu.signin' | translate }}</button>
        <button *ngIf="(isLoading$ | async) && !signinForm.invalid" type="submit" class="btn btn-outline-success" disabled>
          {{ 'hm.menu.signin' | translate }}
          &nbsp;
          <i class="fas fa-spinner fa-spin hm-btn-icon"></i>
        </button>
        <br/>
        <span><a [routerLink]="" (click)="forgotPassword()">Forgot your password?</a></span>
        <span><a [routerLink]="" (click)="needAccount()">Need an Account?</a></span>
      </form>
    </div>
  </div>
</div>
</div>

<div *ngIf="(showPasswordReset$ | async)">
<div class="container home">
  <div class="row">
    <div class="col text-center">
      <h3>Forgot Password</h3>
      <h6 class="underline">&nbsp;</h6>
    </div>
  </div>
</div>
<div class="container">
  <div class="row  justify-content-center align-items-center">
    <div class="col-6">
      <form fxLayout="column"
            fxLayoutAlign="center center"
            fxLayoutGap="10px"
            [formGroup]="resetPasswordForm"
            (ngSubmit)="onForgotPasswordSubmitClick()">
        <span>Please enter your email and we will send you a link where you can reset your password</span>
        <mat-form-field>
          <input
            [readonly]="(isLoading$ | async)"
            type="email"
            matInput
            placeholder="Email"
            formControlName="email">
          <!--          <mat-hint>Please enter a valid email.</mat-hint>-->
          <mat-error>Invalid or missing email.</mat-error>
        </mat-form-field>
        <br/>
        <button *ngIf="!(isLoading$ | async) && resetPasswordForm.invalid" disabled type="submit" class="btn btn-outline-success">Submit</button>
        <button *ngIf="!(isLoading$ | async) && !resetPasswordForm.invalid" type="submit" class="btn btn-success">Submit</button>
        <button *ngIf="(isLoading$ | async) && !resetPasswordForm.invalid" type="submit" class="btn btn-outline-success" disabled>
          Submit
          &nbsp;
          <i class="fas fa-spinner fa-spin hm-btn-icon"></i>
        </button>
      </form>
    </div>
  </div>
</div>
</div>
